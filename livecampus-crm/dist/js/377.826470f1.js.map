{"version":3,"file":"js/377.826470f1.js","mappings":"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","sources":["webpack://livecampus-crm/./src/services/UserAPI.js","webpack://livecampus-crm/./src/views/UserForm.vue","webpack://livecampus-crm/./src/views/UserForm.vue?b61a"],"sourcesContent":["const APISettings = {\r\n  token: '',\r\n  headers: new Headers({\r\n    'mode': 'no-cors',\r\n    'Content-Type': 'application/json',\r\n    'Accept': 'application/json',\r\n    'Access-Control-Allow-Origin': '*',\r\n    'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\r\n  }),\r\n  baseUrl: 'http://51.75.251.192:3000'\r\n}\r\n\r\n\r\nexport function getAllUsers() {\r\n  return fetch(`${APISettings.baseUrl}/api/users`, {\r\n    method: 'GET',\r\n    headers: APISettings.headers\r\n  })\r\n    .then(res => res.json())\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport function getUserById(id) {\r\n  return fetch(`${APISettings.baseUrl}/api/users/${id}`, {\r\n    method: 'GET',\r\n    headers: APISettings.headers\r\n  })\r\n    .then(res => res.json())\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport function createUser(user) {\r\n  return fetch(`${APISettings.baseUrl}/api/users`, {\r\n    method: 'POST',\r\n    headers: APISettings.headers,\r\n    body: JSON.stringify(user)\r\n  })\r\n    .then(res => res.json())\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport function modifyUser(id, user) {\r\n  return fetch(`${APISettings.baseUrl}/api/users/${id}`, {\r\n    method: 'PUT',\r\n    headers: APISettings.headers,\r\n    body: JSON.stringify(user)\r\n  })\r\n    .then(res => res.json())\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport async function deleteUser(id) {\r\n  return await fetch(`${APISettings.baseUrl}/api/users/${id}`, {\r\n    method: 'DELETE',\r\n    headers: APISettings.headers\r\n  })\r\n}","<template>\r\n  <h1 v-if=\"newUser\">Créer un nouvel utilisateur</h1>\r\n  <h1 v-else>Modifier l'utilisateur</h1>\r\n\r\n  <div class=\"form\">\r\n    <label for=\"firstName\">Prénom</label>\r\n    <input type=\"text\" id=\"firstName\" v-model=\"user.firstName\" />\r\n    <label for=\"lastName\">Nom</label>\r\n    <input type=\"text\" id=\"lastName\" v-model=\"user.lastName\" />\r\n    <label for=\"email\">Email</label>\r\n    <input type=\"text\" id=\"email\" v-model=\"user.email\" />\r\n    <label for=\"phoneNumber\">Numéro de téléphone</label>\r\n    <input type=\"text\" id=\"phoneNumber\" v-model=\"user.phoneNumber\" />\r\n    <button v-if=\"newUser\" @click=\"createUser\">Créer</button>\r\n    <button v-else @click=\"updateUser\">Modifier</button>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getUserById, modifyUser, createUser } from '../services/UserAPI.js';\r\n\r\n  export default {\r\n    name: 'UserForm',\r\n    components: {\r\n    },\r\n    data() {\r\n      return {\r\n        newUser: false,\r\n        user : {\r\n          firstName: '',\r\n          lastName: '',\r\n          email: '',\r\n          phoneNumber: '',\r\n        },\r\n      };\r\n    },\r\n    mounted() {\r\n      this.$route.params.id === 'new' ? this.newUser = true : this.newUser = false;\r\n      if (!this.newUser) {\r\n        console.log('getUserById', this.$route.params.id);\r\n        this.getUserById(this.$route.params.id);\r\n      }\r\n    },\r\n    methods: {\r\n      createUser() {\r\n        createUser(this.user).then(() => {\r\n          this.$router.push('/');\r\n        });\r\n      },\r\n      getUserById(id) {\r\n        getUserById(id).then(user => {\r\n          this.user = user;\r\n        });\r\n      },\r\n      updateUser() {\r\n        modifyUser(this.user.id, this.user).then(() => {\r\n          this.$router.push('/');\r\n        });\r\n      },\r\n    },\r\n  };\r\n</script>\r\n<style>\r\n.form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 40%;\r\n  margin: auto;\r\n}\r\n</style>","import { render } from \"./UserForm.vue?vue&type=template&id=822019b0\"\nimport script from \"./UserForm.vue?vue&type=script&lang=js\"\nexport * from \"./UserForm.vue?vue&type=script&lang=js\"\n\nimport \"./UserForm.vue?vue&type=style&index=0&id=822019b0&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\clemf\\\\Desktop\\\\Cours\\\\livecampus-projet-CRM\\\\livecampus-crm\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["APISettings","token","headers","Headers","baseUrl","getAllUsers","fetch","method","then","res","json","catch","err","console","log","getUserById","id","createUser","user","body","JSON","stringify","modifyUser","async","deleteUser","class","_createElementVNode","for","$data","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_4","type","firstName","$event","_hoisted_5","lastName","_hoisted_6","email","_hoisted_7","phoneNumber","onClick","$options","name","components","data","newUser","mounted","this","$route","params","methods","$router","push","updateUser","__exports__","render"],"sourceRoot":""}